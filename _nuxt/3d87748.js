(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{719:function(t,e,l){var content=l(772);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,l(19).default)("93dbde26",content,!0,{sourceMap:!1})},771:function(t,e,l){"use strict";l(719)},772:function(t,e,l){var r=l(18)((function(i){return i[1]}));r.push([t.i,"\n.libraryFilterMenu[data-v-9e9c260c] {\n  max-height: calc(100vh - 125px);\n}\n",""]),r.locals={},t.exports=r},863:function(t,e,l){"use strict";l.r(e);l(17),l(33),l(41),l(27),l(15),l(8),l(52);var r={props:{value:String,isSeries:Boolean},data:function(){return{showMenu:!1,sublist:null}},watch:{showMenu:function(t){t&&(this.sublist=this.selectedItemSublist)}},computed:{selected:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},userIsAdminOrUp:function(){return this.$store.getters["user/getIsAdminOrUp"]},userCanAccessExplicitContent:function(){return this.$store.getters["user/getUserCanAccessExplicitContent"]},libraryMediaType:function(){return this.$store.getters["libraries/getCurrentLibraryMediaType"]},isPodcast:function(){return"podcast"===this.libraryMediaType},seriesItems:function(){return[{text:this.$strings.LabelAll,value:"all"},{text:this.$strings.LabelGenre,textPlural:this.$strings.LabelGenres,value:"genres",sublist:!0},{text:this.$strings.LabelTag,textPlural:this.$strings.LabelTags,value:"tags",sublist:!0},{text:this.$strings.LabelAuthor,textPlural:this.$strings.LabelAuthors,value:"authors",sublist:!0},{text:this.$strings.LabelNarrator,textPlural:this.$strings.LabelNarrators,value:"narrators",sublist:!0},{text:this.$strings.LabelPublisher,textPlural:this.$strings.LabelPublishers,value:"publishers",sublist:!0},{text:this.$strings.LabelLanguage,textPlural:this.$strings.LabelLanguages,value:"languages",sublist:!0},{text:this.$strings.LabelSeriesProgress,value:"progress",sublist:!0}]},bookItems:function(){var t=[{text:this.$strings.LabelAll,value:"all"},{text:this.$strings.LabelGenre,textPlural:this.$strings.LabelGenres,value:"genres",sublist:!0},{text:this.$strings.LabelTag,textPlural:this.$strings.LabelTags,value:"tags",sublist:!0},{text:this.$strings.LabelSeries,textPlural:this.$strings.LabelSeries,value:"series",sublist:!0},{text:this.$strings.LabelAuthor,textPlural:this.$strings.LabelAuthors,value:"authors",sublist:!0},{text:this.$strings.LabelNarrator,textPlural:this.$strings.LabelNarrators,value:"narrators",sublist:!0},{text:this.$strings.LabelPublisher,textPlural:this.$strings.LabelPublishers,value:"publishers",sublist:!0},{text:this.$strings.LabelPublishedDecade,textPlural:this.$strings.LabelPublishedDecades,value:"publishedDecades",sublist:!0},{text:this.$strings.LabelLanguage,textPlural:this.$strings.LabelLanguages,value:"languages",sublist:!0},{text:this.$strings.LabelProgress,value:"progress",sublist:!0},{text:this.$strings.LabelMissing,value:"missing",sublist:!0},{text:this.$strings.LabelTracks,value:"tracks",sublist:!0},{text:this.$strings.LabelEbooks,value:"ebooks",sublist:!0},{text:this.$strings.LabelAbridged,value:"abridged",sublist:!1},{text:this.$strings.ButtonIssues,value:"issues",sublist:!1},{text:this.$strings.LabelRSSFeedOpen,value:"feed-open",sublist:!1}];return this.userCanAccessExplicitContent&&t.push({text:this.$strings.LabelExplicit,value:"explicit",sublist:!1}),this.userIsAdminOrUp&&t.push({text:this.$strings.LabelShareOpen,value:"share-open",sublist:!1}),t},podcastItems:function(){var t=[{text:this.$strings.LabelAll,value:"all"},{text:this.$strings.LabelGenre,textPlural:this.$strings.LabelGenres,value:"genres",sublist:!0},{text:this.$strings.LabelTag,textPlural:this.$strings.LabelTags,value:"tags",sublist:!0},{text:this.$strings.LabelLanguage,textPlural:this.$strings.LabelLanguages,value:"languages",sublist:!0},{text:this.$strings.ButtonIssues,value:"issues",sublist:!1},{text:this.$strings.LabelRSSFeedOpen,value:"feed-open",sublist:!1}];return this.userCanAccessExplicitContent&&t.push({text:this.$strings.LabelExplicit,value:"explicit",sublist:!1}),t},selectItems:function(){return this.isSeries?this.seriesItems:this.isPodcast?this.podcastItems:this.bookItems},selectedItemSublist:function(){var t;return null!==(t=this.selected)&&void 0!==t&&t.includes(".")?this.selected.split(".")[0]:null},selectedSublistText:function(){var t=this;if(!this.sublist)return"";var e=this.selectItems.find((function(i){return i.value===t.sublist}));return(null==e?void 0:e.textPlural)||(null==e?void 0:e.text)||""},selectedText:function(){if(!this.selected)return"";var t=this.selected.split("."),e=this.selectItems.find((function(i){return i.value===t[0]})),l=null;if(t.length>1){var r=this.$decode(t[1]);if("authors"===t[0]){var n=this.authors.find((function(t){return t.id==r}));n&&(l=n.name)}else if("series"===t[0])if("no-series"===r)l=this.$strings.MessageNoSeries;else{var o=this.series.find((function(t){return t.id==r}));o&&(l=o.name)}else l=r}return e&&l?"".concat(e.text,": ").concat(l):e?e.text:l||""},genres:function(){return this.filterData.genres||[]},tags:function(){return this.filterData.tags||[]},series:function(){return this.filterData.series||[]},authors:function(){return this.filterData.authors||[]},narrators:function(){return this.filterData.narrators||[]},languages:function(){return this.filterData.languages||[]},publishers:function(){return this.filterData.publishers||[]},publishedDecades:function(){return this.filterData.publishedDecades||[]},progress:function(){return[{id:"finished",name:this.$strings.LabelFinished},{id:"in-progress",name:this.$strings.LabelInProgress},{id:"not-started",name:this.$strings.LabelNotStarted},{id:"not-finished",name:this.$strings.LabelNotFinished}]},tracks:function(){return[{id:"none",name:this.$strings.LabelTracksNone},{id:"single",name:this.$strings.LabelTracksSingleTrack},{id:"multi",name:this.$strings.LabelTracksMultiTrack}]},ebooks:function(){return[{id:"ebook",name:this.$strings.LabelHasEbook},{id:"no-ebook",name:this.$strings.LabelMissingEbook},{id:"supplementary",name:this.$strings.LabelHasSupplementaryEbook},{id:"no-supplementary",name:this.$strings.LabelMissingSupplementaryEbook}]},missing:function(){return[{id:"asin",name:"ASIN"},{id:"isbn",name:"ISBN"},{id:"authors",name:this.$strings.LabelAuthor},{id:"chapters",name:this.$strings.LabelChapters},{id:"cover",name:this.$strings.LabelCover},{id:"description",name:this.$strings.LabelDescription},{id:"genres",name:this.$strings.LabelGenres},{id:"language",name:this.$strings.LabelLanguage},{id:"narrators",name:this.$strings.LabelNarrator},{id:"publishedYear",name:this.$strings.LabelPublishYear},{id:"publisher",name:this.$strings.LabelPublisher},{id:"series",name:this.$strings.LabelSeries},{id:"subtitle",name:this.$strings.LabelSubtitle},{id:"tags",name:this.$strings.LabelTags}]},sublistItems:function(){var t=this,e=(this[this.sublist]||[]).map((function(e){return"string"==typeof e?{text:e,value:t.$encode(e)}:{text:e.name,value:t.$encode(e.id)}}));return"series"===this.sublist&&e.unshift({text:this.$strings.MessageNoSeries,value:this.$encode("no-series")}),e},filterData:function(){return this.$store.state.libraries.filterData||{}}},methods:{clearSelected:function(){var t=this;this.selected="all",this.showMenu=!1,this.$nextTick((function(){return t.$emit("change","all")}))},clickOutside:function(){this.selectedItemSublist||(this.sublist=null),this.showMenu=!1},clickedSublistOption:function(t){this.clickedOption({value:"".concat(this.sublist,".").concat(t)})},clickedOption:function(option){var t=this;if(option.sublist)this.sublist=option.value;else{var e=option.value;this.selected!==e?(this.selected=e,this.showMenu=!1,this.$nextTick((function(){return t.$emit("change",e)}))):this.showMenu=!1}}}},n=(l(771),l(4)),component=Object(n.a)(r,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.clickOutside,expression:"clickOutside"}],ref:"wrapper",staticClass:"relative"},[e("div",{staticClass:"relative h-7"},[e("button",{staticClass:"relative w-full h-full bg-bg border border-gray-500 hover:border-gray-400 rounded-sm shadow-xs pl-3 pr-3 py-0 text-left focus:outline-hidden sm:text-sm cursor-pointer",attrs:{type:"button","aria-haspopup":"menu","aria-expanded":t.showMenu},on:{click:function(e){e.preventDefault(),t.showMenu=!t.showMenu}}},[e("span",{staticClass:"flex items-center justify-between"},[e("span",{staticClass:"block truncate text-xs",class:t.selectedText?"":"text-gray-300"},[t._v(t._s(t.selectedText))])])]),t._v(" "),"all"===t.selected?e("span",{staticClass:"ml-3 absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},[e("svg",{staticClass:"h-5 w-5 text-gray-400",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"}})])]):e("button",{staticClass:"ml-3 absolute inset-y-0 right-0 flex items-center pr-2 cursor-pointer text-gray-400 hover:text-gray-200",attrs:{"aria-label":t.$strings.ButtonClearFilter},on:{mousedown:function(t){t.stopPropagation()},mouseup:function(t){t.stopPropagation()},click:function(e){return e.stopPropagation(),e.preventDefault(),t.clearSelected.apply(null,arguments)}}},[e("span",{staticClass:"material-symbols",staticStyle:{"font-size":"1.1rem"}},[t._v("close")])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showMenu,expression:"showMenu"}],staticClass:"absolute z-10 mt-1 w-full bg-bg border border-black-200 shadow-lg rounded-md py-1 ring-1 ring-black/5 overflow-auto focus:outline-hidden text-sm libraryFilterMenu"},[e("ul",{directives:[{name:"show",rawName:"v-show",value:!t.sublist,expression:"!sublist"}],staticClass:"h-full w-full",attrs:{role:"menu"}},[t._l(t.selectItems,(function(l){return[e("li",{key:l.value,staticClass:"select-none relative py-2 pr-9 cursor-pointer hover:bg-white/5",class:l.value===t.selected?"bg-white/5 text-yellow-400":"text-gray-200 hover:text-white",attrs:{role:"menuitem","aria-haspopup":l.sublist?"":"menu"},on:{click:function(e){return t.clickedOption(l)}}},[e("div",{staticClass:"flex items-center justify-between"},[e("span",{staticClass:"font-normal ml-3 block truncate text-sm"},[t._v(t._s(l.text))])]),t._v(" "),l.sublist?e("div",{staticClass:"absolute right-1 top-0 bottom-0 h-full flex items-center"},[e("span",{staticClass:"material-symbols text-2xl",attrs:{"aria-label":t.$strings.LabelMore}},[t._v("arrow_right")])]):t._e(),t._v(" "),l.value===t.selected?e("div",{staticClass:"absolute inset-y-0 right-2 h-full flex items-center pointer-events-none"},[e("span",{staticClass:"material-symbols text-base text-yellow-400"},[t._v("check")])]):t._e()])]}))],2),t._v(" "),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.sublist,expression:"sublist"}],staticClass:"h-full w-full",attrs:{role:"menu"}},[e("li",{staticClass:"text-gray-50 select-none relative py-2 pl-9 cursor-pointer hover:bg-white/5",attrs:{role:"menuitem"},on:{click:function(e){t.sublist=null}}},[t._m(0),t._v(" "),e("div",{staticClass:"flex items-center justify-between"},[e("span",{staticClass:"font-normal block truncate"},[t._v(t._s(t.$strings.ButtonBack))])])]),t._v(" "),t.sublistItems.length?t._e():e("li",{staticClass:"text-gray-400 select-none relative px-2",attrs:{role:"menuitem"}},[e("div",{staticClass:"flex items-center justify-center"},[e("span",{staticClass:"font-normal block truncate py-2"},[t._v(t._s(t.$getString("LabelLibraryFilterSublistEmpty",[t.selectedSublistText])))])])]),t._v(" "),t._l(t.sublistItems,(function(l){return[e("li",{key:l.value,staticClass:"select-none relative px-2 cursor-pointer hover:bg-white/5",class:"".concat(t.sublist,".").concat(l.value)===t.selected?"bg-white/5 text-yellow-400":"text-gray-200 hover:text-white",attrs:{role:"menuitem"},on:{click:function(e){return t.clickedSublistOption(l.value)}}},[e("div",{staticClass:"flex items-center"},[e("span",{staticClass:"font-normal truncate py-2 text-xs"},[t._v(t._s(l.text))])]),t._v(" "),"".concat(t.sublist,".").concat(l.value)===t.selected?e("div",{staticClass:"absolute inset-y-0 right-2 h-full flex items-center pointer-events-none"},[e("span",{staticClass:"material-symbols text-base text-yellow-400"},[t._v("check")])]):t._e()])]}))],2)])])}),[function(){var t=this._self._c;return t("div",{staticClass:"absolute left-1 top-0 bottom-0 h-full flex items-center"},[t("span",{staticClass:"material-symbols text-2xl"},[this._v("arrow_left")])])}],!1,null,"9e9c260c",null);e.default=component.exports}}]);