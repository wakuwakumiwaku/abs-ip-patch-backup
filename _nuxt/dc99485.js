(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{1009:function(e,t,n){"use strict";n(822)},1010:function(e,t,n){var r=n(18)((function(i){return i[1]}));r.push([e.i,"\n.ebook-viewer {\n  height: calc(100% - 96px);\n}\n",""]),r.locals={},e.exports=r},1038:function(e,t,n){"use strict";n.r(t);var r=n(7),o=(n(29),n(17),n(40),n(80)),l=n(81);n(83),n(56),n(57),n(967),n(972),n(973),n(15),n(8),n(62),n(975),n(983),n(985),n(986),n(987),n(989),n(990),n(991),n(992),n(993),n(994),n(995),n(996),n(998),n(999),n(1e3),n(1001),n(1002),n(1003),n(1004),n(1005),n(1006),n(1007),n(1008);function h(e){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),new TextDecoder("utf-8").decode(e)}var d=new DOMParser,f=function(){return Object(l.a)((function e(t){Object(o.a)(this,e),this.capacity=void 0,this.fragment_list=void 0,this.imageArray=void 0,this.cur_fragment=void 0,this.capacity=t,this.fragment_list=[],this.imageArray=[],this.cur_fragment=new c(t),this.fragment_list.push(this.cur_fragment)}),[{key:"write",value:function(e){this.cur_fragment.write(e)||(this.cur_fragment=new c(this.capacity),this.fragment_list.push(this.cur_fragment),this.cur_fragment.write(e))}},{key:"get",value:function(e){for(var t=0;t<this.fragment_list.length;){var n=this.fragment_list[t];if(e<n.size)return n.get(e);e-=n.size,t+=1}return null}},{key:"size",value:function(){for(var s=0,i=0;i<this.fragment_list.length;i++)s+=this.fragment_list[i].size;return s}},{key:"shrink",value:function(){for(var e=new Uint8Array(this.size()),t=0,i=0;i<this.fragment_list.length;i++){var n=this.fragment_list[i];n.full()?e.set(n.buffer,t):e.set(n.buffer.slice(0,n.size),t),t+=n.size}return e}}])}(),c=function(){return Object(l.a)((function e(t){Object(o.a)(this,e),this.buffer=void 0,this.capacity=void 0,this.size=void 0,this.buffer=new Uint8Array(t),this.capacity=t,this.size=0}),[{key:"write",value:function(e){return!(this.size>=this.capacity)&&(this.buffer[this.size]=e,this.size+=1,!0)}},{key:"full",value:function(){return this.size===this.capacity}},{key:"get",value:function(e){return this.buffer[e]}}])}(),m=function(){return Object(l.a)((function e(data){var t=this;Object(o.a)(this,e),this.view=void 0,this.buffer=void 0,this.offset=void 0,this.header=void 0,this.palm_header=void 0,this.mobi_header=void 0,this.reclist=void 0,this.render_image=function(e,i){return new Promise((function(n,r){var o=e[i],l=+o.getAttribute("recindex"),h=t.read_image(l-1),d=new FileReader;d.onload=function(e){var t,r;o.src=null===(t=e.target)||void 0===t?void 0:t.result,n(null===(r=e.target)||void 0===r?void 0:r.result)},d.onerror=function(e){r(e)},d.readAsDataURL(h)}))},this.view=new DataView(data),this.buffer=this.view.buffer,this.offset=0,this.header=null}),[{key:"parse",value:function(){}},{key:"getUint8",value:function(){var e=this.view.getUint8(this.offset);return this.offset+=1,e}},{key:"getUint16",value:function(){var e=this.view.getUint16(this.offset);return this.offset+=2,e}},{key:"getUint32",value:function(){var e=this.view.getUint32(this.offset);return this.offset+=4,e}},{key:"getStr",value:function(e){var t=h(this.buffer.slice(this.offset,this.offset+e));return this.offset+=e,t}},{key:"skip",value:function(e){this.offset+=e}},{key:"setoffset",value:function(e){this.offset=e}},{key:"get_record_extrasize",value:function(data,e){for(var t=data.length-1,n=0,i=15;i>0;i--)if(e&1<<i){var r=this.buffer_get_varlen(data,t),o=r[0],l=r[1];t=r[2],t-=o-l,n+=o}1&e&&(n+=1+(3&data[t]));return n}},{key:"buffer_get_varlen",value:function(data,e){for(var t=0,n=0,r=0,o=0,i=0;;i++){var l=data[e];if(n|=(127&l)<<o,o+=7,t+=1,e-=1,(r+=1)>=4||(128&l)>0)break}return[n,t,e]}},{key:"read_text",value:function(){for(var e=this.palm_header.record_count,t=[],i=1;i<=e;i++)t.push(this.read_text_record(i));var n=function(e){for(var t=0,i=0;i<e.length;i++){var n=e[i];t+=n.length}for(var r=new Uint8Array(t),o=0,l=0;l<e.length;l++)n=e[l],r.set(n,o),o+=n.length;return r}(t);return h(n)}},{key:"read_text_record",value:function(i){var e=this.mobi_header.extra_flags,t=this.reclist[i].offset,n=this.reclist[i+1].offset,data=new Uint8Array(this.buffer.slice(t,n)),r=this.get_record_extrasize(data,e);if(data=new Uint8Array(this.buffer.slice(t,n-r)),2===this.palm_header.compression){var o=function(data){for(var e=data.length,t=0,n=new f(data.length);t<e;){var r=data[t];if(t+=1,0===r)n.write(r);else if(r<=8){for(var i=t;i<t+r;i++)n.write(data[i]);t+=r}else if(r<=127)n.write(r);else if(r<=191){var o=data[t];t+=1;for(var l=(r<<8|o)>>3&2047,h=3+(7&o),d=n.size(),c=0;c<h;c++)n.write(n.get(d-l)),d+=1}else n.write(32),n.write(128^r)}return n}(data);return o.shrink()}return data}},{key:"read_image",value:function(e){var t=this.mobi_header.first_image_idx,n=this.reclist[t+e].offset,r=this.reclist[t+e+1].offset,data=new Uint8Array(this.buffer.slice(n,r));return new Blob([data.buffer])}},{key:"load",value:function(){this.header=this.load_pdbheader(),this.reclist=this.load_reclist(),this.load_record0()}},{key:"load_pdbheader",value:function(){var header={};return header.name=this.getStr(32),header.attr=this.getUint16(),header.version=this.getUint16(),header.ctime=this.getUint32(),header.mtime=this.getUint32(),header.btime=this.getUint32(),header.mod_num=this.getUint32(),header.appinfo_offset=this.getUint32(),header.sortinfo_offset=this.getUint32(),header.type=this.getStr(4),header.creator=this.getStr(4),header.uid=this.getUint32(),header.next_rec=this.getUint32(),header.record_num=this.getUint16(),header}},{key:"load_reclist",value:function(){for(var e=[],i=0;i<this.header.record_num;i++){var t={};t.offset=this.getUint32(),t.attr=this.getUint32(),e.push(t)}return e}},{key:"load_record0",value:function(){this.palm_header=this.load_record0_header(),this.mobi_header=this.load_mobi_header()}},{key:"load_record0_header",value:function(){var e={},t=this.reclist[0];return this.setoffset(t.offset),e.compression=this.getUint16(),this.skip(2),e.text_length=this.getUint32(),e.record_count=this.getUint16(),e.record_size=this.getUint16(),e.encryption_type=this.getUint16(),this.skip(2),e}},{key:"load_mobi_header",value:function(){var e={},t=this.offset;return e.identifier=this.getUint32(),e.header_length=this.getUint32(),e.mobi_type=this.getUint32(),e.text_encoding=this.getUint32(),e.uid=this.getUint32(),e.generator_version=this.getUint32(),this.skip(40),e.first_nonbook_index=this.getUint32(),e.full_name_offset=this.getUint32(),e.full_name_length=this.getUint32(),e.language=this.getUint32(),e.input_language=this.getUint32(),e.output_language=this.getUint32(),e.min_version=this.getUint32(),e.first_image_idx=this.getUint32(),e.huff_rec_index=this.getUint32(),e.huff_rec_count=this.getUint32(),e.datp_rec_index=this.getUint32(),e.datp_rec_count=this.getUint32(),e.exth_flags=this.getUint32(),this.skip(36),e.drm_offset=this.getUint32(),e.drm_count=this.getUint32(),e.drm_size=this.getUint32(),e.drm_flags=this.getUint32(),this.skip(8),this.skip(4),this.skip(46),e.extra_flags=this.getUint16(),this.setoffset(t+e.header_length),e}},{key:"load_exth_header",value:function(){return{}}},{key:"extractContent",value:function(s){var span=document.createElement("span");return span.innerHTML=s,span.textContent||span.innerText}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(n,o){e.load();for(var content=e.read_text(),l=d.parseFromString(content,"text/html").documentElement,h=Array.from(l.querySelectorAll("p,b,font,h3,h2,h1")),f=[],i=0,c=h.length;i<c-1;i++){h[i].innerText&&h[i].innerText!==f[f.length-1]&&f.push(h[i].innerText);var m=h[i].getElementsByTagName("img");if(m.length>0)for(var y=0;y<m.length;y++)f.push("#image")}var x=function(){var o=Object(r.a)(regeneratorRuntime.mark((function r(){var o,h,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=l.getElementsByTagName("img"),f.push("~image"),h=0;case 3:if(!(h<o.length)){r.next=11;break}return r.next=6,e.render_image(o,h);case 6:d=r.sent,f.push(d+" "+o[h].width+" "+o[h].height);case 8:h++,r.next=3;break;case 11:o.length>200||!t?n(l):n(f.join("\n    \n"));case 12:case"end":return r.stop()}}),r)})));return function(){return o.apply(this,arguments)}}();x()}))}}])}(),y=m,x=(n(26),n(35),n(77),n(147),function(line){for(var e=["章","节","回","節","卷","部","輯","辑","話","集","话","篇"],t=!1,i=0;i<e.length&&((!(line.indexOf(e[i])>-1)||" "!==line[line.indexOf(e[i])+1]&&"　"!==line[line.indexOf(e[i])+1]&&"、"!==line[line.indexOf(e[i])+1]&&"："!==line[line.indexOf(e[i])+1]&&":"!==line[line.indexOf(e[i])+1])&&line[line.indexOf(e[i])+1]||((/^[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u767e\u5343\u4e07\u842c]+$/.test(line.substring(1,line.indexOf(e[i])).trim())||/^\d+$/.test(line.substring(1,line.indexOf(e[i])).trim()))&&(t=!0),!t));i++);return t}),v=function(line){return!(!/^[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u767e\u5343\u4e07\u842c]+$/.test(line.substring(1,line.indexOf(" ")))&&!/^\d+$/.test(line.substring(1,line.indexOf(" "))))||(!(!/^[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u767e\u5343\u4e07\u842c]+$/.test(line.substring(1,line.indexOf("　")))&&!/^\d+$/.test(line.substring(1,line.indexOf("　"))))||!(!/^[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u767e\u5343\u4e07\u842c]+$/.test(line.substring(1))&&!/^\d+$/.test(line.substring(1))))},k=function(line){return!!/(?=[MDCLXVI])M*(C[MD]|D?C{0,3})(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})$/.test(line.substring(0,line.indexOf(" ")))||(!!/(?=[MDCLXVI])M*(C[MD]|D?C{0,3})(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})$/.test(line.substring(0,line.indexOf(".")))||!!/(?=[MDCLXVI])M*(C[MD]|D?C{0,3})(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})$/.test(line.trim()))},_=function(line){return!!/^[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u767e\u5343\u4e07\u842c]+$/.test(line.substring(0,line.indexOf(" ")))||(!!/^[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u767e\u5343\u4e07\u842c]+$/.test(line.substring(0,line.indexOf("　")))||(!!/^\d+$/.test(line.substring(0,line.indexOf(" ")))||!!/^\d+$/.test(line.substring(0,line.indexOf("　")))))},w=function(line){return!!/^[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u767e\u5343\u4e07\u842c]+$/.test(line.substring(0,line.indexOf(":")))||(!!/^[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u767e\u5343\u4e07\u842c]+$/.test(line.substring(0,line.indexOf("：")))||(!!/^\d+$/.test(line.substring(0,line.indexOf(":")))||!!/^\d+$/.test(line.substring(0,line.indexOf("：")))))},U=function(line){return!!/^[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u767e\u5343\u4e07\u842c]+$/.test(line.substring(0,line.indexOf("、")))||!!/^\d+$/.test(line.substring(0,line.indexOf("、")))},z=function(){return Object(l.a)((function e(t){Object(o.a)(this,e),this.bookDoc=void 0,this.contentList=void 0,this.contentTitleList=void 0,this.bookDoc=t,this.contentList=[],this.contentTitleList=[],this.getContent(t)}),[{key:"getContent",value:function(e){this.contentList=Array.from(e.querySelectorAll("h1,h2,h3,h4,h5,b,font")).filter((function(e,t){return function(line){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return line.length<30&&-1===line.indexOf("[")&&-1===line.indexOf("(")&&(line.startsWith("CHAPTER")||line.startsWith("Chapter")||line.startsWith("序章")||line.startsWith("前言")||line.startsWith("声明")||line.startsWith("聲明")||line.startsWith("写在前面的话")||line.startsWith("后记")||line.startsWith("楔子")||line.startsWith("后序")||line.startsWith("寫在前面的話")||line.startsWith("後記")||line.startsWith("後序")||/(?=[MDCLXVI])M*(C[MD]|D?C{0,3})(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})$/.test(line)||line.startsWith("第")&&x(line)||line.startsWith("卷")&&v(line)||k(line)||!e&&!t&&!n&&line.indexOf("第")>-1&&(" "===line[line.indexOf("第")-1]||"　"===line[line.indexOf("第")-1]||"、"===line[line.indexOf("第")-1]||"："===line[line.indexOf("第")-1]||":"===line[line.indexOf("第")-1])&&x(line.substr(line.indexOf("第")))||!e&&!t&&!n&&line.indexOf(" ")&&_(line)||!e&&!t&&!n&&line.indexOf("　")&&_(line)||!e&&!t&&!n&&line.indexOf("、")&&U(line)||!e&&!t&&!n&&line.indexOf("：")&&w(line)||!e&&!t&&!n&&line.indexOf(":")&&w(line))}(e.innerText.trim())}));for(var i=0;i<this.contentList.length;i++){var t=Math.floor(9e5*Math.random())+1e5;this.contentTitleList.push({label:this.contentList[i].innerText,id:"title"+t,href:"#title"+t,subitems:[]})}for(var n=0;n<this.contentList.length;n++)this.contentList[n].id=this.contentTitleList[n].id}},{key:"getAnchoredDoc",value:function(){return this.bookDoc}},{key:"getContentList",value:function(){var e=this;return this.contentTitleList.filter((function(t,n){return!(n>0)||t.label!==e.contentTitleList[n-1].label}))}}])}(),O=z,C='\n@charset "UTF-8";\n\n/*\n  Calibre styles\n*/\n.arabic {\n    display: block;\n    list-style-type: decimal;\n    margin-bottom: 1em;\n    margin-right: 0;\n    margin-top: 1em;\n    text-align: justify\n    }\n.attribution {\n    display: block;\n    font-size: 1em;\n    line-height: 1.2;\n    text-align: left;\n    margin: 0.3em 0\n    }\n.big {\n    font-size: 1.375em;\n    line-height: 1.2\n    }\n.big1 {\n    font-size: 1em\n    }\n.block {\n    display: block;\n    text-align: justify;\n    margin: 1em 1em 2em\n    }\n.block1 {\n    display: block;\n    text-align: justify;\n    margin: 1em 4em\n    }\n.block2 {\n    display: block;\n    text-align: justify;\n    margin: 1em 1em 1em 2em\n    }\n.bullet {\n    display: block;\n    list-style-type: disc;\n    margin-bottom: 1em;\n    margin-right: 0;\n    margin-top: 1em;\n    text-align: disc\n    }\n.calibre {\n    background-color: #000007;\n    display: block;\n    font-family: Charis, "Times New Roman", Verdana, Arial;\n    font-size: 1.125em;\n    line-height: 1.2;\n    padding-left: 0;\n    padding-right: 0;\n    text-align: center;\n    margin: 0 5pt\n    }\n.calibre1 {\n    display: block\n    }\n.calibre2 {\n    height: auto;\n    width: auto\n    }\n.calibre3:not(strong) {\n    display: block;\n    font-family: Charis, "Times New Roman", Verdana, Arial;\n    font-size: 1.125em;\n    line-height: 1.2;\n    padding-left: 0;\n    padding-right: 0;\n    margin: 0 5pt\n    }\n.calibre4 {\n    font-weight: bold\n    }\n.calibre5 {\n    font-style: italic\n    }\n.calibre6 {\n    background-color: #FFF;\n    display: block;\n    font-family: Charis, "Times New Roman", Verdana, Arial;\n    font-size: 1.125em;\n    line-height: 1.2;\n    padding-left: 0;\n    padding-right: 0;\n    text-align: center;\n    margin: 0 5pt\n    }\n.calibre7 {\n    display: list-item\n    }\n.calibre8 {\n    font-size: 1em;\n    line-height: 1.2;\n    vertical-align: super\n    }\n.calibre9 {\n    border-collapse: separate;\n    border-spacing: 2px;\n    display: table;\n    margin-bottom: 0;\n    margin-top: 0;\n    text-indent: 0\n    }\n.calibre10 {\n    display: table-row;\n    vertical-align: middle\n    }\n.calibre11 {\n    display: table-cell;\n    text-align: right;\n    vertical-align: inherit;\n    padding: 1px\n    }\n.calibre12 {\n    display: table-cell;\n    text-align: left;\n    vertical-align: inherit;\n    padding: 1px\n    }\n.calibre13 {\n    height: 1em;\n    width: auto\n    }\n.calibre14 {\n    font-size: 0.88889em;\n    line-height: 1.2;\n    vertical-align: super\n    }\n.calibre15 {\n    font-size: 1em;\n    line-height: 1.2;\n    vertical-align: sub\n    }\n.calibre16 {\n    display: block;\n    list-style-type: decimal;\n    margin-bottom: 1em;\n    margin-right: 0;\n    margin-top: 1em\n    }\n.calibre17 {\n    display: block;\n    font-size: 1.125em;\n    font-weight: bold;\n    line-height: 1.2;\n    margin: 0.83em 0\n    }\n.center {\n    display: block;\n    text-align: center;\n    margin: 1em 0\n    }\n.center1 {\n    display: block;\n    font-size: 1em;\n    font-weight: bold;\n    line-height: 1.2;\n    text-align: center;\n    margin: -2em 0 3em\n    }\n.center2 {\n    display: block;\n    font-size: 1em;\n    font-weight: bold;\n    line-height: 1.2;\n    text-align: center;\n    margin: 2em 0 1em\n    }\n.center3 {\n    display: block;\n    text-align: center;\n    margin: -1em 0 1em\n    }\n.center4 {\n    display: block;\n    text-align: center;\n    text-indent: 3%;\n    margin: 1em 0\n    }\n.chapter {\n    display: block;\n    font-size: 1.125em;\n    font-weight: bold;\n    line-height: 2em;\n    text-align: center;\n    margin: 2em 0 1em\n    }\n.chapter1 {\n    display: block;\n    font-size: 0.88889em;\n    line-height: 1.2;\n    margin-left: 0.5em;\n    margin-right: 0.5em;\n    margin-top: 2em\n    }\n.chapter2 {\n    display: block;\n    font-size: 1.125em;\n    font-weight: bold;\n    line-height: 2em;\n    text-align: center;\n    margin: 2em 0 3em\n    }\n.copyright {\n    display: block;\n    font-size: 0.88889em;\n    line-height: 1.2;\n    margin-top: 4em;\n    text-align: center\n    }\n.dedication {\n    display: block;\n    font-size: 0.88889em;\n    line-height: 1.2;\n    margin-top: 4em\n    }\n.dropcaps {\n    float: left;\n    font-size: 3.4375rem;\n    line-height: 50px;\n    margin-right: 0.09em;\n    margin-top: -0.05em;\n    padding-top: 1px\n    }\n.dropcaps1 {\n    float: left;\n    font-size: 3.4375rem;\n    line-height: 50px;\n    margin-right: 0.09em;\n    margin-top: 0.15em;\n    padding-top: 1px\n    }\n.extract {\n    display: block;\n    text-align: justify;\n    margin: 2em 0 0.3em\n    }\n.extract1 {\n    display: block;\n    text-align: justify;\n    text-indent: 3%;\n    margin: 2em 0 0.3em\n    }\n.extract2 {\n    display: block;\n    text-align: justify;\n    margin: 1em 0 0.3em\n    }\n.footnote {\n    border-bottom-style: solid;\n    border-bottom-width: 0;\n    border-left-style: solid;\n    border-left-width: 0;\n    border-right-style: solid;\n    border-right-width: 0;\n    border-top-style: solid;\n    border-top-width: 1px;\n    display: block;\n    font-size: 1em;\n    line-height: 1.2;\n    margin-top: 2 em\n    }\n.footnote1 {\n    display: block;\n    text-align: justify;\n    margin: 0.3em 0 0.3em 2\n    }\n.footnote2 {\n    border-bottom-style: solid;\n    border-bottom-width: 0;\n    border-left-style: solid;\n    border-left-width: 0;\n    border-right-style: solid;\n    border-right-width: 0;\n    border-top-style: solid;\n    border-top-width: 1px;\n    display: block;\n    font-size: 0.88889em;\n    line-height: 1.2;\n    margin-top: 2 em\n    }\n.hanging {\n    display: block;\n    font-size: 0.88889em;\n    line-height: 1.2;\n    text-align: left;\n    text-indent: -1em;\n    margin: 0.5em 0 0.3em 1em\n    }\n.hanging1 {\n    display: block;\n    font-size: 0.88889em;\n    line-height: 1.2;\n    text-align: left;\n    text-indent: -1em;\n    margin: 0.5em 0 0.3em 1.5em\n    }\n.hanging2 {\n    display: block;\n    font-size: 1em;\n    line-height: 1.2;\n    text-indent: -1em;\n    margin: 0.5em 0 0.3em 1em\n    }\n.hanging3 {\n    display: block;\n    font-size: 1em;\n    line-height: 1.2;\n    text-align: left;\n    text-indent: 1em;\n    margin: 0.1em 0 0.3em 1em\n    }\n.hanging4 {\n    display: block;\n    font-size: 1em;\n    line-height: 1.2;\n    text-align: left;\n    text-indent: 0.1em;\n    margin: 0.1em 0 0.3em 1em\n    }\na.hlink {\n    text-decoration: none\n    }\n.indent {\n    display: block;\n    text-align: justify;\n    text-indent: 1em;\n    margin: 0.3em 0\n    }\n.line {\n    border-top: currentColor solid 1px;\n    border-bottom: currentColor solid 1px\n    }\n.loweralpha {\n    display: block;\n    list-style-type: lower-alpha;\n    margin-bottom: 1em;\n    margin-right: 0;\n    margin-top: 1em;\n    text-align: justify\n    }\n.none {\n    display: block;\n    list-style-type: none;\n    margin-bottom: 1em;\n    margin-right: 0;\n    margin-top: 1em;\n    text-align: justify\n    }\n.none1 {\n    display: block;\n    list-style-type: none;\n    margin-bottom: 0;\n    margin-right: 0;\n    margin-top: 0;\n    text-align: justify\n    }\n.nonindent {\n    display: block;\n    text-align: justify;\n    margin: 0.3em 0\n    }\n.nonindent1 {\n    display: block;\n    font-size: 1.125em;\n    line-height: 1.2;\n    text-indent: -1em;\n    margin: 0.5em 0 0.3em 0.1em\n    }\n.nonindent2 {\n    display: block;\n    font-size: 1.125em;\n    line-height: 1.2;\n    text-indent: -1em;\n    margin: 0.5em 0 0.3em -0.5em\n    }\n.nonindent3 {\n    display: block;\n    text-align: justify;\n    text-indent: 3%;\n    margin: 0.3em 0\n    }\n.part {\n    display: block;\n    font-size: 1em;\n    font-weight: bold;\n    line-height: 2em;\n    text-align: center;\n    margin: 4em 0 1em\n    }\n.preface {\n    display: block;\n    font-size: 0.88889em;\n    line-height: 1.2;\n    margin-left: 2em;\n    margin-right: 2em;\n    text-align: justify\n    }\n.pubhlink {\n    color: green;\n    text-decoration: none\n    }\n.right {\n    display: block;\n    text-align: right;\n    margin: 0.3em 0\n    }\n.section {\n    display: block;\n    font-size: 1.125em;\n    font-weight: bold;\n    line-height: 1.2;\n    text-align: center;\n    margin: 2em 0 0.5em\n    }\n.section1 {\n    display: block;\n    font-size: 1.125em;\n    font-weight: bold;\n    line-height: 1.2;\n    text-align: left;\n    margin: 2em 0 0.3em\n    }\n.section2 {\n    display: block;\n    font-size: 1em;\n    font-weight: bold;\n    line-height: 1.2;\n    text-align: left;\n    margin: 2em 0 0.3em 1em\n    }\n.small {\n    font-size: 0.66667em\n    }\n.small1 {\n    font-size: 0.75em\n    }\n.subchapter {\n    display: block;\n    font-size: 1.125em;\n    font-weight: bold;\n    line-height: 1.2;\n    margin: 1em 0\n    }\n.textbox {\n    background-color: #E4E4E4;\n    display: block;\n    line-height: 1.5em;\n    margin-bottom: 2em;\n    margin-top: 2em;\n    text-align: justify;\n    border-top: currentColor double 2px;\n    border-bottom: currentColor double 2px\n    }\n.textbox1 {\n    display: block;\n    text-align: justify;\n    margin: 0.3em 0.5em 0.3em 0.8em\n    }\n.textbox2 {\n    display: block;\n    text-align: justify;\n    text-indent: 1em;\n    margin: 0.3em 0.5em\n    }\n.textbox3 {\n    display: block;\n    text-align: justify;\n    text-indent: 3%;\n    margin: 0.3em 0.5em 0.3em 0.8em\n    }\n.titlepage {\n    display: block;\n    margin-left: -0.4em;\n    margin-top: 1.2em\n    }\n.toc {\n    display: block;\n    font-size: 1em;\n    line-height: 1.2;\n    text-align: center\n    }\n.toc1 {\n    display: block;\n    font-size: 1em;\n    font-weight: bold;\n    line-height: 1.2;\n    text-align: center;\n    margin: 0.67em 0 3em\n    }\n.underline {\n    text-decoration: underline\n    }\n',T={props:{libraryItem:{type:Object,default:function(){}},playerOpen:Boolean,fileId:String},data:function(){return{}},computed:{libraryItemId:function(){var e;return null===(e=this.libraryItem)||void 0===e?void 0:e.id},ebookUrl:function(){return this.fileId?"/api/items/".concat(this.libraryItemId,"/ebook/").concat(this.fileId):"/api/items/".concat(this.libraryItemId,"/ebook")}},methods:{addHtmlCss:function(){var iframe=document.getElementsByTagName("iframe")[0];if(iframe){var e=iframe.contentDocument;if(e){var style=e.createElement("style");style.id="default-style",style.textContent=C,e.head.appendChild(style)}}},handleIFrameHeight:function(e){var t=function(e){return!(!e||1!==e.nodeType)},body=e.contentWindow.document.body,html=e.contentWindow.document.documentElement;e.height=2*Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight),setTimeout((function(){var n,r=body.lastElementChild,o=body.lastChild,l=body.querySelectorAll("a"),h=body.querySelectorAll("p"),d=l[l.length-1],f=h[h.length-1];if(t(d)&&t(f)&&(n=d.clientHeight+d.offsetTop>f.clientHeight+f.offsetTop?d:f),(r||n||o)&&(3!==o.nodeType||r||n)){var c=0;if(3===o.nodeType&&document.createRange){var m=document.createRange();if(m.selectNodeContents(o),m.getBoundingClientRect){var rect=m.getBoundingClientRect();rect&&(c=rect.bottom-rect.top)}}var y=t(r)?r.clientHeight+r.offsetTop:0,x=t(o)?o.clientHeight+o.offsetTop:0,v=t(n)?n.clientHeight+n.offsetTop:0;e.height=Math.max(y,x,v)+100+c}}),500)},initMobi:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get(e.ebookUrl,{responseType:"blob"});case 2:n=t.sent,(o=new FileReader).onload=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(n){var r,o,content,l,h,d,style;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.target.result,o=new y(r),t.next=4,o.render();case 4:content=t.sent,l=new O((new DOMParser).parseFromString(content.outerHTML,"text/html")),h=l.getAnchoredDoc(),(d=document.getElementsByTagName("iframe")[0]).contentDocument.body.innerHTML=h.documentElement.outerHTML,(style=d.contentDocument.createElement("style")).id="default-style",style.textContent=C,d.contentDocument.head.appendChild(style),e.handleIFrameHeight(d);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o.readAsArrayBuffer(n);case 6:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.initMobi()}},j=T,L=(n(1009),n(4)),component=Object(L.a)(j,(function(){this._self._c;return this._m(0)}),[function(){var e=this._self._c;return e("div",{staticClass:"w-full h-full"},[e("div",{staticClass:"h-full max-h-full w-full"},[e("div",{staticClass:"ebook-viewer absolute overflow-y-scroll left-0 right-0 top-16 w-full max-w-4xl m-auto z-10 border border-black/20 shadow-md bg-white"},[e("iframe",{attrs:{title:"html-viewer",width:"100%"}},[this._v(" Loading ")])])])])}],!1,null,null,null);t.default=component.exports},822:function(e,t,n){var content=n(1010);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(19).default)("6be44555",content,!0,{sourceMap:!1})}}]);