(window.webpackJsonp=window.webpackJsonp||[]).push([[135,159],{677:function(e,t,r){"use strict";r.r(t);var o={props:{type:{type:String,default:"full"}},data:function(){return{}},computed:{},methods:{},mounted:function(){}},n=r(4),component=Object(n.a)(o,(function(){var e=this,t=e._self._c;return t("div",["bonus"==e.type?[t("ui-tooltip",{attrs:{text:"Bonus",direction:"top"}},[t("span",{staticClass:"material-symbols ml-1",staticStyle:{"font-size":"0.8rem"}},[e._v("local_play")])])]:e._e(),e._v(" "),"trailer"==e.type?[t("ui-tooltip",{attrs:{text:"Trailer",direction:"top"}},[t("span",{staticClass:"material-symbols ml-1",staticStyle:{"font-size":"0.8rem"}},[e._v("local_movies")])])]:e._e()],2)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{UiTooltip:r(76).default})},858:function(e,t,r){"use strict";r.r(t);r(22),r(43),r(17),r(14);var o={props:{index:Number,libraryItemId:String,episode:{type:Object,default:function(){return null}},sortKey:String},data:function(){return{isProcessingReadUpdate:!1,processingRemove:!1,isHovering:!1,isSelected:!1,isSelectionMode:!1}},computed:{store:function(){return this.$store||this.$nuxt.$store},axios:function(){return this.$axios||this.$nuxt.$axios},userCanUpdate:function(){return this.store.getters["user/getUserCanUpdate"]},userCanDelete:function(){return this.store.getters["user/getUserCanDelete"]},episodeId:function(){var e;return(null===(e=this.episode)||void 0===e?void 0:e.id)||""},episodeTitle:function(){var e;return(null===(e=this.episode)||void 0===e?void 0:e.title)||""},episodeSubtitle:function(){var e,t;return(null===(e=this.episode)||void 0===e?void 0:e.subtitle)||(null===(t=this.episode)||void 0===t?void 0:t.description)||""},episodeType:function(){var e;return(null===(e=this.episode)||void 0===e?void 0:e.episodeType)||""},publishedAt:function(){var e;return null===(e=this.episode)||void 0===e?void 0:e.publishedAt},dateFormat:function(){return this.store.getters.getServerSetting("dateFormat")},itemProgress:function(){return this.store.getters["user/getUserMediaProgress"](this.libraryItemId,this.episodeId)},itemProgressPercent:function(){var e;return(null===(e=this.itemProgress)||void 0===e?void 0:e.progress)||0},userIsFinished:function(){var e;return!(null===(e=this.itemProgress)||void 0===e||!e.isFinished)},libraryItemIdStreaming:function(){return this.store.getters.getLibraryItemIdStreaming},isStreamingFromDifferentLibrary:function(){return this.store.getters.getIsStreamingFromDifferentLibrary},isStreaming:function(){return this.store.getters.getIsMediaStreaming(this.libraryItemId,this.episodeId)},isQueued:function(){return this.store.getters.getIsMediaQueued(this.libraryItemId,this.episodeId)},streamIsPlaying:function(){return this.store.state.streamIsPlaying&&this.isStreaming},timeRemaining:function(){var e,t;if(this.streamIsPlaying)return this.$strings.ButtonPlaying;if(!this.itemProgress)return this.$elapsedPretty((null===(e=this.episode)||void 0===e?void 0:e.duration)||0);if(this.userIsFinished)return this.$strings.LabelFinished;var r=this.itemProgress.duration||(null===(t=this.episode)||void 0===t?void 0:t.duration)||0,o=Math.floor(r-this.itemProgress.currentTime);return this.$getString("LabelTimeLeft",[this.$elapsedPretty(o)])}},methods:{setSelectionMode:function(e){this.isSelectionMode=e,this.isSelectionMode||(this.isSelected=!1)},clickedEpisode:function(){this.$emit("view",this.episode)},clickedSelectionBg:function(){this.isSelected=!this.isSelected,this.selectedUpdated(this.isSelected)},selectedUpdated:function(e){this.$emit("selected",{isSelected:e,episode:this.episode})},mouseover:function(){this.isHovering=!0},mouseleave:function(){this.isHovering=!1},playClick:function(){this.streamIsPlaying?(this.$eventBus||this.$nuxt.$eventBus).$emit("pause-item"):this.$emit("play",this.episode)},queueBtnClick:function(){this.isQueued?this.store.commit("removeItemFromQueue",{libraryItemId:this.libraryItemId,episodeId:this.episodeId}):this.$emit("addToQueue",this.episode)},toggleFinished:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.userIsFinished&&this.itemProgressPercent>0&&!t){var r={message:this.$getString("MessageConfirmMarkItemFinished",[this.episodeTitle]),callback:function(t){t&&e.toggleFinished(!0)},type:"yesNo"};this.store.commit("globals/setConfirmPrompt",r)}else{var o={isFinished:!this.userIsFinished};this.isProcessingReadUpdate=!0,this.axios.$patch("/api/me/progress/".concat(this.libraryItemId,"/").concat(this.episodeId),o).then((function(){e.isProcessingReadUpdate=!1})).catch((function(t){console.error("Failed",t),e.isProcessingReadUpdate=!1,(e.$toast||e.$nuxt.$toast).error(o.isFinished?e.$strings.ToastItemMarkedAsFinishedFailed:e.$strings.ToastItemMarkedAsNotFinishedFailed)}))}},clickAddToPlaylist:function(){this.$emit("addToPlaylist",this.episode)},clickEdit:function(){this.$emit("edit",this.episode)},removeClick:function(){this.$emit("remove",this.episode)},destroy:function(){this.$destroy(),this.$el&&this.$el.parentNode?this.$el.parentNode.removeChild(this.$el):this.$el&&this.$el.remove&&this.$el.remove()}},mounted:function(){}},n=o,l=r(4),component=Object(l.a)(n,(function(){var e,t,r,o=this,n=o._self._c;return n("div",{staticClass:"w-full h-full cursor-pointer",attrs:{id:"lazy-episode-".concat(o.index)},on:{mouseover:o.mouseover,mouseleave:o.mouseleave}},[n("div",{staticClass:"flex",on:{click:o.clickedEpisode}},[n("div",{staticClass:"grow"},[n("div",{staticClass:"flex items-center",attrs:{dir:"auto"}},[n("span",{staticClass:"text-sm font-semibold"},[o._v(o._s(o.episodeTitle))]),o._v(" "),n("widgets-podcast-type-indicator",{attrs:{type:o.episodeType}})],1),o._v(" "),n("div",{staticClass:"h-10 flex items-center mt-1.5 mb-0.5 overflow-hidden"},[n("div",{staticClass:"text-sm text-gray-200 line-clamp-2",attrs:{dir:"auto"},domProps:{innerHTML:o._s(o.episodeSubtitle)}})]),o._v(" "),n("div",{staticClass:"h-8 flex items-center"},["audioFile.metadata.filename"===o.sortKey?n("p",{staticClass:"text-sm text-gray-300 truncate font-light"},[n("strong",{attrs:{className:"font-bold"}},[o._v(o._s(o.$strings.LabelFilename))]),o._v(": "+o._s(o.episode.audioFile.metadata.filename)+"\n        ")]):n("div",{staticClass:"w-full inline-flex justify-between max-w-xl"},[null!==(e=o.episode)&&void 0!==e&&e.season?n("p",{staticClass:"text-sm text-gray-300"},[o._v(o._s(o.$getString("LabelSeasonNumber",[o.episode.season])))]):o._e(),o._v(" "),null!==(t=o.episode)&&void 0!==t&&t.episode?n("p",{staticClass:"text-sm text-gray-300"},[o._v(o._s(o.$getString("LabelEpisodeNumber",[o.episode.episode])))]):o._e(),o._v(" "),null!==(r=o.episode)&&void 0!==r&&null!==(r=r.chapters)&&void 0!==r&&r.length?n("p",{staticClass:"text-sm text-gray-300"},[o._v(o._s(o.$getString("LabelChapterCount",[o.episode.chapters.length])))]):o._e(),o._v(" "),o.publishedAt?n("p",{staticClass:"text-sm text-gray-300"},[o._v(o._s(o.$getString("LabelPublishedDate",[o.$formatDate(o.publishedAt,o.dateFormat)])))]):o._e()])]),o._v(" "),n("div",{staticClass:"flex items-center pt-2"},[n("button",{staticClass:"h-8 px-4 border border-white/20 hover:bg-white/10 rounded-full flex items-center justify-center cursor-pointer focus:outline-hidden",class:o.userIsFinished?"text-white/40":"",on:{click:function(e){return e.stopPropagation(),o.playClick.apply(null,arguments)}}},[n("span",{staticClass:"material-symbols fill text-2xl",class:o.streamIsPlaying?"":"text-success",attrs:{"aria-hidden":"true"}},[o._v(o._s(o.streamIsPlaying?"pause":"play_arrow"))]),o._v(" "),n("span",{staticClass:"sr-only"},[o._v(o._s(o.streamIsPlaying?o.$strings.ButtonPause:o.$strings.ButtonPlay))]),o._v(" "),n("p",{staticClass:"pl-2 pr-1 text-sm font-semibold",attrs:{"aria-hidden":"true"}},[o._v(o._s(o.timeRemaining))])]),o._v(" "),o.libraryItemIdStreaming&&!o.isStreamingFromDifferentLibrary?n("ui-tooltip",{class:o.isQueued?"text-success":"",attrs:{text:o.isQueued?o.$strings.MessageRemoveFromPlayerQueue:o.$strings.MessageAddToPlayerQueue,direction:"top"}},[n("ui-icon-btn",{attrs:{icon:o.isQueued?"playlist_add_check":"playlist_play","aria-label":o.isQueued?o.$strings.LabelRemoveFromPlayerQueue:o.$strings.LabelAddToPlayerQueue,borderless:""},on:{click:o.queueBtnClick}})],1):o._e(),o._v(" "),n("ui-tooltip",{attrs:{text:o.userIsFinished?o.$strings.MessageMarkAsNotFinished:o.$strings.MessageMarkAsFinished,direction:"top"}},[n("ui-read-icon-btn",{staticClass:"mx-1 mt-0.5",attrs:{disabled:o.isProcessingReadUpdate,"is-read":o.userIsFinished,borderless:""},on:{click:o.toggleFinished}})],1),o._v(" "),n("ui-tooltip",{attrs:{text:o.$strings.LabelYourPlaylists,direction:"top"}},[n("ui-icon-btn",{attrs:{icon:"playlist_add","aria-label":o.$strings.LabelYourPlaylists,borderless:""},on:{click:o.clickAddToPlaylist}})],1),o._v(" "),o.userCanUpdate?n("ui-icon-btn",{attrs:{icon:"edit",borderless:""},on:{click:o.clickEdit}}):o._e(),o._v(" "),o.userCanDelete?n("ui-icon-btn",{attrs:{icon:"close","aria-label":o.$strings.HeaderRemoveEpisode,borderless:""},on:{click:o.removeClick}}):o._e()],1)]),o._v(" "),o.isHovering||o.isSelected||o.isSelectionMode?n("div",{staticClass:"hidden md:block w-12 min-w-12"}):o._e()]),o._v(" "),o.isSelected||o.isSelectionMode?n("div",{staticClass:"absolute top-0 left-0 w-full h-full bg-black/10 z-10 cursor-pointer",on:{click:function(e){return e.stopPropagation(),o.clickedSelectionBg.apply(null,arguments)}}}):o._e(),o._v(" "),n("div",{staticClass:"hidden md:block md:w-12 md:min-w-12 md:-right-0 md:absolute md:top-0 h-full transform transition-transform z-20",class:o.isHovering||o.isSelected||o.isSelectionMode?"translate-x-0":"translate-x-24"},[n("div",{staticClass:"flex h-full items-center"},[n("div",{staticClass:"mx-1"},[n("ui-checkbox",{attrs:{"checkbox-bg":"bg","aria-label":"Select episode"},on:{input:o.selectedUpdated},model:{value:o.isSelected,callback:function(e){o.isSelected=e},expression:"isSelected"}})],1)])]),o._v(" "),o.userIsFinished?o._e():n("div",{staticClass:"absolute bottom-0 left-0 h-0.5 bg-warning",style:{width:100*o.itemProgressPercent+"%"}})])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{WidgetsPodcastTypeIndicator:r(677).default,UiIconBtn:r(148).default,UiTooltip:r(76).default,UiReadIconBtn:r(353).default,UiCheckbox:r(184).default})}}]);