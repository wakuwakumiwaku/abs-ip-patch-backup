(window.webpackJsonp=window.webpackJsonp||[]).push([[80,141],{682:function(e,t,n){"use strict";t.a={data:function(){return{selectedMenuItemIndex:null}},methods:{menuNavigationHandler:function(e){var t=this.itemsToShow;if("ArrowDown"===e.key||"ArrowUp"===e.key){if(e.preventDefault(),!t.length)return;"ArrowDown"===e.key?null===this.selectedMenuItemIndex?this.selectedMenuItemIndex=0:this.selectedMenuItemIndex=Math.min(this.selectedMenuItemIndex+1,t.length-1):"ArrowUp"===e.key&&(null===this.selectedMenuItemIndex?this.selectedMenuItemIndex=t.length-1:this.selectedMenuItemIndex=Math.max(this.selectedMenuItemIndex-1,0)),this.recalcScroll()}else"Enter"===e.key?(e.preventDefault(),null!==this.selectedMenuItemIndex?this.clickedOption(e,t[this.selectedMenuItemIndex]):this.submitForm()):this.selectedMenuItemIndex=null},recalcScroll:function(){var menu=this.$refs.menu;if(menu){var e=menu.querySelectorAll("li");if(e.length){var t=e[this.selectedMenuItemIndex];if(t){var n=menu.offsetHeight,l=t.offsetHeight,r=t.offsetTop,o=r+l;if(o>menu.scrollTop+n){var c=parseFloat(window.getComputedStyle(menu).paddingBottom);menu.scrollTop=o-n+c}else if(r<menu.scrollTop){var d=parseFloat(window.getComputedStyle(menu).paddingTop);menu.scrollTop=r-d}}}}},isMenuItemSelected:function(e){return null!==this.selectedMenuItemIndex&&this.itemsToShow[this.selectedMenuItemIndex]===e}}}},737:function(e,t,n){"use strict";n.r(t);n(26),n(41),n(14),n(8),n(52),n(147),n(40);var l={mixins:[n(682).a],props:{value:[String,Number],disabled:Boolean,label:String,items:{type:Array,default:function(){return[]}},editable:{type:Boolean,default:!0},showAllWhenEmpty:Boolean},data:function(){return{isFocused:!1,textInput:null}},watch:{value:{immediate:!0,handler:function(e){this.textInput=e}}},computed:{input:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},itemsToShow:function(){var e=this;return this.editable?this.textInput&&this.textInput!==this.input?this.items.filter((function(i){return String(i).toLowerCase().includes(e.textInput.toLowerCase())})):this.showAllWhenEmpty?this.items:[]:this.items}},methods:{keydownHandler:function(e){this.menuNavigationHandler(e)},setFocus:function(){this.$refs.input&&this.editable&&this.$refs.input.focus()},inputFocus:function(){this.isFocused=!0},blur:function(){if(this.isFocused=!1,this.input!==this.textInput){var e=this.textInput?this.textInput.trim():null;this.input=e,e&&!this.items.includes(e)&&this.$emit("newItem",e)}this.$refs.input&&this.$refs.input.blur()},inputBlur:function(){var e=this;this.isFocused&&setTimeout((function(){if(document.activeElement!==e.$refs.input&&(e.isFocused=!1,e.input!==e.textInput)){var t=e.textInput?e.textInput.trim():null;e.input=t,t&&!e.items.includes(t)&&e.$emit("newItem",t)}}),50)},submitForm:function(){var e=this.textInput?this.textInput.trim():null;this.input=e,e&&!this.items.includes(e)&&this.$emit("newItem",e)},clickedOption:function(e,t){this.textInput=null,this.input=t,this.$refs.input&&this.$refs.input.blur()}},mounted:function(){}},r=n(4),component=Object(r.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"w-full"},[e.label?t("label",{staticClass:"px-1 text-sm font-semibold",class:e.disabled?"text-gray-400":""},[e._v(e._s(e.label))]):e._e(),e._v(" "),t("div",{ref:"wrapper",staticClass:"relative"},[t("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[t("div",{ref:"inputWrapper",staticClass:"input-wrapper flex-wrap relative w-full shadow-xs flex items-center border border-gray-600 rounded-sm px-2 py-2",class:e.disabled?"pointer-events-none bg-black-300 text-gray-400":"bg-primary"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.textInput,expression:"textInput"}],ref:"input",staticClass:"h-full w-full bg-transparent focus:outline-hidden px-1",attrs:{disabled:e.disabled,readonly:!e.editable},domProps:{value:e.textInput},on:{focus:e.inputFocus,blur:e.inputBlur,keydown:e.keydownHandler,input:function(t){t.target.composing||(e.textInput=t.target.value)}}})])]),e._v(" "),t("ul",{directives:[{name:"show",rawName:"v-show",value:e.isFocused&&e.itemsToShow.length,expression:"isFocused && itemsToShow.length"}],ref:"menu",staticClass:"absolute z-50 mt-0 w-full bg-bg border border-black-200 shadow-lg max-h-56 rounded-sm py-1 text-base ring-1 ring-black/5 overflow-auto focus:outline-hidden sm:text-sm",attrs:{role:"listbox","aria-labelledby":"listbox-label"}},[e._l(e.itemsToShow,(function(n){return[t("li",{key:n,staticClass:"text-gray-50 select-none relative py-2 pr-3 cursor-pointer hover:bg-black-400",class:e.isMenuItemSelected(n)?"text-yellow-300":"",attrs:{role:"option"},on:{click:function(t){return e.clickedOption(t,n)},mouseup:function(e){e.stopPropagation(),e.preventDefault()},mousedown:function(e){e.preventDefault()}}},[t("div",{staticClass:"flex items-center"},[t("span",{staticClass:"font-normal ml-3 block truncate"},[e._v(e._s(n))])]),e._v(" "),e.input===n?t("span",{staticClass:"text-yellow-400 absolute inset-y-0 right-0 flex items-center pr-4"},[t("span",{staticClass:"material-symbols text-xl"},[e._v("check")])]):e._e()])]})),e._v(" "),e.itemsToShow.length?e._e():t("li",{staticClass:"text-gray-50 select-none relative py-2 pr-9",attrs:{role:"option"}},[e._m(0)])],2)])])}),[function(){var e=this._self._c;return e("div",{staticClass:"flex items-center justify-center"},[e("span",{staticClass:"font-normal"},[this._v("No items")])])}],!1,null,null,null);t.default=component.exports},833:function(e,t,n){"use strict";n.r(t);n(15),n(41),n(52),n(77),n(40);var l={props:{value:Boolean,selectedSeries:{type:Object,default:function(){}},existingSeriesNames:{type:Array,default:function(){return[]}},originalSeriesSequence:{type:String,default:null}},data:function(){return{el:null,content:null,error:null}},watch:{show:function(e){e?this.$nextTick(this.setShow):this.setHide()}},computed:{show:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},isNewSeries:function(){return!(!this.selectedSeries||!this.selectedSeries.id)&&this.selectedSeries.id.startsWith("new")}},methods:{seriesNameInputHandler:function(){this.$refs.sequenceInput&&this.$refs.sequenceInput.setFocus()},setInputFocus:function(){this.isNewSeries?this.$refs.newSeriesSelect&&this.$refs.newSeriesSelect.setFocus():this.$refs.sequenceInput&&this.$refs.sequenceInput.setFocus()},submitSeriesForm:function(){this.error=null,this.$refs.newSeriesSelect&&this.$refs.newSeriesSelect.blur(),this.selectedSeries.sequence!==this.originalSeriesSequence&&this.selectedSeries.sequence.includes(" ")?this.error=this.$strings.MessageSeriesSequenceCannotContainSpaces:this.$emit("submit")},clickClose:function(){this.show=!1},hotkey:function(e){e===this.$hotkeys.Modal.CLOSE&&(this.show=!1)},setShow:function(){var e=this;this.error=null,this.el&&this.content||this.init(),this.el&&this.content&&(document.body.appendChild(this.el),setTimeout((function(){e.content.style.transform="scale(1)"}),10),this.$store.commit("setInnerModalOpen",!0),this.$eventBus.$on("modal-hotkey",this.hotkey),this.setInputFocus())},setHide:function(){this.content&&(this.content.style.transform="scale(0)"),this.el&&this.el.remove(),this.$store.commit("setInnerModalOpen",!1),this.$eventBus.$off("modal-hotkey",this.hotkey)},init:function(){this.el=this.$refs.wrapper,this.content=this.$refs.content,this.content&&this.el&&(this.el.classList.remove("hidden"),this.el.classList.add("flex"),this.content.style.transform="scale(0)",this.content.style.transition="transform 0.25s cubic-bezier(0.16, 1, 0.3, 1)",this.el.style.opacity=1,this.el.remove())}},mounted:function(){}},r=n(4),component=Object(r.a)(l,(function(){var e=this,t=e._self._c;return t("div",{ref:"wrapper",staticClass:"hidden absolute top-0 left-0 w-full h-full bg-black/50 rounded-lg items-center justify-center",staticStyle:{"z-index":"61"},attrs:{role:"dialog","aria-modal":"true"},on:{click:e.clickClose}},[e._m(0),e._v(" "),t("div",{ref:"content",staticClass:"text-white"},[e.selectedSeries?t("form",{on:{submit:function(t){return t.preventDefault(),e.submitSeriesForm.apply(null,arguments)}}},[t("div",{staticClass:"bg-bg rounded-lg px-2 py-6 sm:p-6 md:p-8",on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"flex"},[t("div",{staticClass:"grow p-1 min-w-48 sm:min-w-64 md:min-w-80"},[t("ui-input-dropdown",{ref:"newSeriesSelect",attrs:{items:e.existingSeriesNames,disabled:!e.isNewSeries,label:e.$strings.LabelSeriesName},on:{input:e.seriesNameInputHandler},model:{value:e.selectedSeries.name,callback:function(t){e.$set(e.selectedSeries,"name",t)},expression:"selectedSeries.name"}})],1),e._v(" "),t("div",{staticClass:"w-24 sm:w-28 md:w-40 p-1"},[t("ui-text-input-with-label",{ref:"sequenceInput",attrs:{label:e.$strings.LabelSequence},model:{value:e.selectedSeries.sequence,callback:function(t){e.$set(e.selectedSeries,"sequence",t)},expression:"selectedSeries.sequence"}})],1)]),e._v(" "),e.error?t("div",{staticClass:"text-error text-sm mt-2 p-1"},[e._v(e._s(e.error))]):e._e(),e._v(" "),t("div",{staticClass:"flex justify-end mt-2 p-1"},[t("ui-btn",{attrs:{type:"submit"}},[e._v(e._s(e.$strings.ButtonSubmit))])],1)])]):e._e()])])}),[function(){var e=this._self._c;return e("button",{staticClass:"absolute top-3 right-3 md:top-5 md:right-5 h-8 w-8 md:h-12 md:w-12 flex items-center justify-center cursor-pointer text-white hover:text-gray-300",attrs:{type:"button","aria-label":"Close modal"}},[e("span",{staticClass:"material-symbols text-2xl md:text-4xl"},[this._v("close")])])}],!1,null,null,null);t.default=component.exports;installComponents(component,{UiInputDropdown:n(737).default,UiTextInputWithLabel:n(121).default,UiBtn:n(42).default})}}]);